{% extends "base.html" %}

{% block header %}March√©s{% endblock %}

{% block content %}
<div class="space-y-6">
    <!-- Market Overview Widget -->
    <div class="h-[800px] w-full bg-slate-900/50 border border-slate-800 rounded-xl overflow-hidden p-1">
        <!-- TradingView Widget BEGIN -->
        <!-- TradingView Widget BEGIN -->
        <div class="tradingview-widget-container" id="tv-market-overview">
            <div class="tradingview-widget-container__widget"></div>
            <script type="application/json">
                {
                    "colorTheme": "dark",
                    "dateRange": "12M",
                    "showChart": true,
                    "locale": "fr",
                    "largeChartUrl": "",
                    "isTransparent": true,
                    "showSymbolLogo": true,
                    "showFloatingTooltip": false,
                    "width": "100%",
                    "height": "100%",
                    "plotLineColorGrowing": "rgba(41, 98, 255, 1)",
                    "plotLineColorFalling": "rgba(41, 98, 255, 1)",
                    "gridLineColor": "rgba(240, 243, 250, 0)",
                    "scaleFontColor": "rgba(106, 109, 120, 1)",
                    "belowLineFillColorGrowing": "rgba(41, 98, 255, 0.12)",
                    "belowLineFillColorFalling": "rgba(41, 98, 255, 0.12)",
                    "belowLineFillColorGrowingBottom": "rgba(41, 98, 255, 0)",
                    "belowLineFillColorFallingBottom": "rgba(41, 98, 255, 0)",
                    "symbolActiveColor": "rgba(41, 98, 255, 0.12)",
                    "tabs": [
                        {
                            "title": "Indices",
                            "symbols": [
                                { "s": "FOREXCOM:SPXUSD", "d": "S&P 500" },
                                { "s": "FOREXCOM:NSXUSD", "d": "US 100" },
                                { "s": "FOREXCOM:DJI", "d": "Dow 30" },
                                { "s": "INDEX:NKY", "d": "Nikkei 225" },
                                { "s": "INDEX:DEU40", "d": "DAX Index" },
                                { "s": "FOREXCOM:UKXGBP", "d": "UK 100" },
                                { "s": "INDEX:CAC40", "d": "CAC 40" }
                            ],
                            "originalTitle": "Indices"
                        },
                        {
                            "title": "Futures",
                            "symbols": [
                                { "s": "FOREXCOM:SPXUSD", "d": "S&P 500" },
                                { "s": "FX:EURUSD", "d": "Euro" },
                                { "s": "FOREXCOM:XAUUSD", "d": "Gold" },
                                { "s": "TVC:USOIL", "d": "Crude Oil" },
                                { "s": "FOREXCOM:CORN", "d": "Corn" }
                            ],
                            "originalTitle": "Futures"
                        },
                        {
                            "title": "Forex",
                            "symbols": [
                                { "s": "FX:EURUSD", "d": "EUR/USD" },
                                { "s": "FX:GBPUSD", "d": "GBP/USD" },
                                { "s": "FX:USDJPY", "d": "USD/JPY" },
                                { "s": "FX:USDCHF", "d": "USD/CHF" },
                                { "s": "FX:AUDUSD", "d": "AUD/USD" },
                                { "s": "FX:USDCAD", "d": "USD/CAD" }
                            ],
                            "originalTitle": "Forex"
                        },
                        {
                            "title": "Crypto",
                            "symbols": [
                                { "s": "BINANCE:BTCUSDT" },
                                { "s": "BINANCE:ETHUSDT" },
                                { "s": "BINANCE:SOLUSDT" },
                                { "s": "BINANCE:BNBUSDT" },
                                { "s": "BINANCE:XRPUSDT" },
                                { "s": "BINANCE:ADAUSDT" }
                            ]
                        }
                    ]
                }
            </script>
        </div>
        <script>
            (function () {
                const container = document.getElementById('tv-market-overview');
                const jsonConfig = container.querySelector('script[type="application/json"]').textContent;
                const script = document.createElement('script');
                script.type = 'text/javascript';
                script.src = 'https://s3.tradingview.com/external-embedding/embed-widget-market-overview.js';
                script.async = true;
                script.innerHTML = jsonConfig;
                container.appendChild(script);
            })();
        </script>
        <!-- TradingView Widget END -->
    </div>
</div>
{% endblock %}